import { useNavigate } from "react-router";
import style from "./NotFound.module.css";
import { useEffect, useState } from "react";

export default function NotFound({ children }) {
  const [secondsLeft, setSecondsLeft] = useState(5);

  const navigate = useNavigate();

  useEffect(() => {
    const countdown = setInterval(() => {
      setSecondsLeft((prev) => prev - 1);
    }, 1000);

    const timeout = setTimeout(() => {
      navigate("/");
    }, 5000);

    return () => {
      clearInterval(countdown);
      clearTimeout(timeout);
    };
  }, [navigate]);

  return (
    <div className={style.wrap}>
      <svg className={style.logo} width={200} height={190} viewBox="0 0 36 31">
        <path
          d="M14.2335 5.61641C14.5557 5.5828 14.888 5.61695 15.201 5.69514C16.1281 5.92683 16.7567 6.49603 17.2343 7.29196C17.614 7.25166 17.9978 7.27516 18.3696 7.36145C19.1632 7.55816 19.8475 8.05242 20.2769 8.73899C20.4888 9.07729 20.6295 9.45419 20.6906 9.84721C20.7516 10.2402 20.7317 10.6413 20.6321 11.0266C20.3668 12.0293 19.7302 12.5514 18.8631 13.0515C18.8872 13.6671 18.8781 14.2857 18.8795 14.9018C18.8802 15.2911 18.9057 15.6972 18.8675 16.0834C18.8511 16.2473 18.8191 16.3815 18.7339 16.5232C18.6094 16.6122 18.482 16.6393 18.3306 16.6575C17.9339 16.7052 17.5029 16.6729 17.1029 16.672L14.7438 16.6637C13.9048 16.7256 13.0162 16.667 12.172 16.6677C11.6101 16.6681 10.9775 16.7339 10.4226 16.6714C10.2246 16.6491 10.1401 16.5188 10.0318 16.3732C9.96181 15.2681 10.0213 14.1263 10.0217 13.0173C9.55956 12.7812 9.16645 12.4914 8.84454 12.084C8.60434 11.78 8.42771 11.4322 8.32485 11.0605C8.222 10.6888 8.19498 10.3007 8.24534 9.9187C8.36585 9.10576 8.80632 8.37227 9.47144 7.87694C10.1293 7.39093 10.908 7.19285 11.7187 7.30412C11.8316 7.10841 11.9442 6.91191 12.0843 6.73349C12.6245 6.04549 13.3771 5.72409 14.2335 5.61641ZM14.2787 6.97361C13.7523 7.07688 13.2988 7.26503 12.9812 7.72051C12.8034 7.97548 12.641 8.70814 12.4194 8.82002C12.126 8.8546 11.819 8.71976 11.5347 8.65792C10.964 8.53374 10.319 8.76019 9.96534 9.21872C9.67444 9.59583 9.53747 10.1158 9.61536 10.5839C9.68587 11.0073 9.94485 11.3624 10.2992 11.6051C10.6859 11.8699 11.117 11.9224 11.3841 12.3381C11.4333 13.3012 11.3976 14.2809 11.3991 15.246C12.5231 15.2373 13.6471 15.2349 14.7711 15.2389L17.5167 15.2333C17.5164 14.7441 17.4108 12.3112 17.6394 12.0723C17.7468 11.9603 17.9925 11.892 18.1377 11.8356C18.7918 11.5813 19.2704 11.1405 19.3301 10.415C19.3698 9.93592 19.2133 9.50522 18.8912 9.14806C18.5978 8.82285 18.2149 8.65035 17.7741 8.62445C17.3871 8.60167 16.5904 8.96695 16.3472 8.69501C16.2289 8.56258 16.1816 8.33537 16.1212 8.16897C15.8737 7.48423 15.3561 7.08682 14.6281 6.99248C14.5113 6.97738 14.3962 6.97117 14.2787 6.97361Z"
          fill="black"
        />
        <path
          d="M27.2017 1.37416C27.4452 1.35662 27.7374 1.35978 27.9296 1.53501C28.1087 1.69815 28.1171 1.95993 28.0574 2.17788C27.9129 2.70594 27.4495 3.33826 27.1707 3.81854C26.7245 4.58682 26.3081 5.3763 25.8749 6.15282C25.607 6.63371 25.2827 7.12557 25.0683 7.62804C25.0002 7.78785 24.9485 7.95561 24.9562 8.13084C24.9627 8.28304 25.0166 8.39758 25.1338 8.49748C25.2998 8.63877 25.5189 8.74907 25.7442 8.71945C25.8942 8.69975 26.0143 8.62119 26.1071 8.50583C26.4249 8.11104 26.6131 7.56118 26.8453 7.11452L28.4458 4.02555C28.635 3.65622 28.8018 3.2031 29.0675 2.88378C29.208 2.71494 29.3386 2.63473 29.5629 2.61586C29.7401 2.60094 29.9127 2.64671 30.0495 2.76161C30.2115 2.89795 30.2872 3.11748 30.2552 3.32384C30.1937 3.72061 29.8402 4.2025 29.6517 4.56415L28.1986 7.41303C27.9395 7.92685 27.6355 8.45214 27.4266 8.9874C27.3782 9.11187 27.3298 9.25127 27.348 9.38639C27.3691 9.54476 27.4867 9.68387 27.6148 9.77361C27.7582 9.87402 27.9533 9.94063 28.1295 9.90189C28.3322 9.8573 28.4742 9.71098 28.5877 9.54817C28.8462 9.17827 29.0172 8.69243 29.2076 8.28304L30.4481 5.65404C30.6818 5.15494 30.8947 4.56881 31.2063 4.11551C31.3184 3.95241 31.4389 3.82223 31.6453 3.7907C31.8542 3.75881 32.0657 3.84641 32.2233 3.97719C32.3547 4.08603 32.4526 4.21376 32.4584 4.38788C32.4737 4.83486 31.6533 6.38656 31.4301 6.88538L30.5511 8.84987C30.1194 9.81863 29.751 10.7898 29.0234 11.5913C28.3067 12.3807 27.4914 12.7155 26.5075 13.0675C26.3 13.1418 25.9819 13.215 25.8057 13.3407C25.4578 13.5894 25.2154 14.0493 25.0112 14.4119C24.8546 14.6907 24.6544 14.9935 24.5562 15.2981C24.4117 15.7469 24.5074 17.1194 24.5074 17.6611L24.5059 24.6572L24.5096 26.7961C24.5103 27.2151 24.5358 27.6531 24.4892 28.0692C24.4721 28.2216 24.4117 28.3917 24.2985 28.5011C23.9578 28.8318 22.7024 28.7149 22.2204 28.7123L18.9351 28.708C19.1243 28.2058 19.3584 27.7123 19.6052 27.2348C20.0314 27.1907 20.4696 27.2097 20.8984 27.2094L23.0176 27.2104L23.0179 18.0678C22.7435 18.7179 22.3941 19.3537 22.0781 19.9859C21.5161 21.1054 20.9602 22.2279 20.4103 23.3533C19.7466 24.7222 19.0723 26.0862 18.3876 27.445C18.1012 28.0129 17.8467 28.6115 17.5213 29.1582C17.3892 29.3799 17.2298 29.5801 17.0088 29.7225C16.7087 29.914 16.3445 29.9823 15.994 29.9129C15.8236 29.8778 15.6624 29.8083 15.5205 29.709C15.3786 29.6096 15.259 29.4824 15.1692 29.3354C14.9792 29.0298 14.9308 28.6872 15.0342 28.3436C15.2031 27.7822 15.5587 27.2406 15.8393 26.7262L17.1752 24.2816C18.7931 21.3195 20.4245 18.3587 21.9897 15.3694C22.3588 14.6648 23.1941 13.3294 23.395 12.6657C23.6142 11.9433 23.1541 11.0783 23.0194 10.3677C22.8982 9.72867 22.9131 9.11334 23.0776 8.48299C23.1467 8.21355 23.2444 7.95205 23.3692 7.70283C23.5829 7.28203 23.8406 6.87917 24.0786 6.47136L25.3125 4.34125L26.3084 2.61421C26.505 2.2738 26.6917 1.90702 26.9298 1.59351C27.004 1.49566 27.0961 1.43572 27.2017 1.37416Z"
          fill="black"
        />
        <path
          d="M4.80322 0.0934689C5.94557 0.0338159 7.11325 0.0848961 8.25866 0.0859364L14.8232 0.0883392L20.7792 0.0853978C21.7452 0.0852902 22.7491 0.0301931 23.7118 0.0913168C23.9088 0.1038 24.1326 0.158646 24.2815 0.294416C24.4122 0.413615 24.4682 0.623064 24.4933 0.78997C24.5443 1.12852 24.5141 1.4996 24.5134 1.84278L24.505 3.78919C24.0282 4.55582 23.5062 5.30071 23.0053 6.0526C23.0494 5.54815 23.0188 5.02357 23.0188 4.51647L23.0184 1.66396C17.3074 1.66891 11.5892 1.72082 5.87867 1.66052C5.82097 3.9967 5.87382 6.3477 5.87375 8.68522L5.87688 21.6066L13.5743 21.6034L15.9578 21.5991C16.3989 21.5984 16.8685 21.5675 17.3056 21.6227C17.1433 22.1255 16.8346 22.6306 16.5947 23.1041L8.66032 23.0872L6.27152 23.0861C5.7271 23.0872 5.15996 23.0614 4.62078 23.1403C4.15661 23.2057 3.71931 23.3946 3.35592 23.6866C2.91167 24.0414 2.58823 24.5547 2.54189 25.1243C2.50109 25.6258 2.70001 26.11 3.026 26.4885C3.332 26.8436 3.80228 27.1123 4.26651 27.1998C4.94488 27.3278 5.95307 27.2371 6.66732 27.2392L11.5219 27.2435C12.4245 27.2443 13.3439 27.2062 14.2437 27.2719C14.0839 27.7389 13.938 28.2443 13.847 28.7286C13.0328 28.6565 12.1659 28.7153 11.345 28.7153L6.48347 28.7142C5.63745 28.7164 4.67451 28.8132 3.84898 28.6364C3.26925 28.5123 2.72508 28.211 2.2717 27.8386C1.54059 27.2389 1.0805 26.3131 1.00581 25.3829C0.96406 24.8628 0.994271 24.3233 0.996601 23.8014L0.99773 21.2684L0.997294 12.5088L0.995583 6.43476C0.995001 5.6535 0.922128 4.27965 1.02856 3.54222C1.1282 2.81089 1.44207 2.12406 1.93173 1.56582C2.65294 0.719243 3.68582 0.189634 4.80322 0.0934689ZM4.35099 1.72752C3.54679 2.05369 2.95658 2.46223 2.6141 3.27807C2.49592 3.55958 2.46439 3.90656 2.45413 4.20974C2.40383 5.69622 2.45027 7.20082 2.45129 8.68956L2.45249 17.283L2.45311 21.0928C2.45347 21.5244 2.37249 22.113 2.46814 22.5244L2.5025 22.5362L2.55576 22.5018C3.16187 22.0538 3.67576 21.8088 4.42044 21.6533C4.36224 19.5295 4.4132 17.3898 4.4155 15.2648C4.41808 12.8765 4.37626 10.4831 4.40345 8.09536C4.41912 6.53294 4.42243 4.97043 4.41338 3.40796C4.41316 3.03189 4.47526 2.05144 4.40217 1.74259L4.35099 1.72752Z"
          fill="black"
        />
      </svg>
      <h1 className={style.name}>Tasteorama</h1>
      <div className={style.err}>
        <h2 className={style.title}>Error</h2>
        {children}
      </div>{" "}
      <p className={style.timer}>
        Redirecting to main page in {secondsLeft}{" "}
        {secondsLeft === 1 ? "second" : "seconds"}
        ...
      </p>
    </div>
  );
}
